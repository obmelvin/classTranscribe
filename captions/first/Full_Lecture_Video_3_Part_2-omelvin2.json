[{"text":"so, now it's time to talk about signals","width":256},{"text":"unless anybodys got any last minute burning questions","width":256},{"text":"ok, right, signals are called. there's a lot to signals we're just going to do an introductory part today","width":384},{"text":"but signals are the software equivalent of hardware interrupts","width":384},{"text":"so, think about hardware for a moment ","width":320},{"text":"i can have things like a clock timer that goes off every say hundred milliseconds ","width":320},{"text":"and interrupts what the CPU is currently doing","width":192},{"text":"and when the CPU sees that it says 'oh I'd better stop doing what I'm currently executing' and run some additional code thats gonna cope with the fact that my little clock timer has gone off","width":640},{"text":"or I've got some bytes from the disk which are ready to read and I want to stop what I'm doing and execute some different code","width":512},{"text":"or some information on the USB bus has arrived like someone plugged in a USB keyboard or typed something and I need to handle those byte","width":576},{"text":"right, so interrupts allow us to stop doing what we're currently doing and process some different code","width":320},{"text":"we could do the same thing with hardware and that's signals","width":256},{"text":"we can send signals to our children and we can get a signal back evern when one of our children dies, which is useful","width":640},{"text":"and we can have a lot of fun with them because they can do differnt thigns","width":384},{"text":"so, first of all, that's a list of all the processes","width":512},{"text":"let me send a signal to one of these processes","width":256},{"text":"ok, do I have a pid variable here? no I don't. let me just send -9","width":640},{"text":"to say process 43. what've I just done?","width":512},{"text":"yeah, I've killed myself","width":192},{"text":"ok, the kill command says 'send a singal' and -9 is the ultimate of signals - hint hint - terminate this thing with [jibberish] it can't stop this signal","width":1024},{"text":"if you send this signal to a process that process is gone","width":384},{"text":"there's no way to protect against this signal","width":320},{"text":"this is the big weight falling on top of a signal. this is how you can kill processes","width":256},{"text":"if you know - if you are a superuser and you know a processes id you can get rid of it","width":576},{"text":"OK, so fortunately I have another processes here. let's see if this one works","width":512},{"text":"unfortunately I can't actually write any code so it's time to reboot my machine","width":896},{"text":"we can do something similar in our programs as well","width":448},{"text":"let's pull up some example code here","width":2304},{"text":"we won't do that straight away, ok, so here's some typical fork exec() code","width":384},{"text":"the child decides to run /bin/ls and the parent will do something else","width":768},{"text":"let's first of all just start off with this. there's nothing new in this code, I just want to prove to you that the child runs exec() here and should print something out","width":832},{"text":"here we go, so yeah we'll move on it. the child runs","width":128},{"text":"now, what we'll do this time is I'm going to make the child sleep for one second because now I'm going to call kill() from my program here. I think you can guess what's going to happen here","width":832},{"text":"we'll check kill() on section 2 and you'll see that we can send a signal to a process","width":640},{"text":"we have the id that we wanted to call, there it is, it's called child, and what should we send it? well let's send it signal 9","width":1088},{"text":"oh, we had a sleep there. so this time you'll see the poor child never got to run /bin/ls, we klled it and it didnt' stand a chance","width":640},{"text":"we could also send a signal called SIGINT, in fact, rather than send it to the child, why don't we send it to ourselves","width":960},{"text":"let's do it straight away","width":192},{"text":"I wonder what SIGINT stands for","width":512},{"text":"ok, so the SIG is a standard thing you'll prepended toward the singal of different names","width":448},{"text":"INT stands for interrupt","width":192},{"text":"remember how you can press ctrl+c and the program stopped? this is how it works","width":384},{"text":"the shell says 'oh look, look, someones trying to press ctrl+c, I will send SIGINT to the running process'","width":512},{"text":"and that's how we break our processes","width":640},{"text":"this is where the fun begins. I don't have to see my processes die when you press ctrl+c","width":512},{"text":"we can do other things for the SIGINT and for that we're going to look at SIGACTION","width":768},{"text":"SIGACTION allows us to register a callback function that's going to be run when the signal is given to this process","width":576},{"text":"ok, so, here's how sigaction() works. I didn't want to use sigaction(), I was going to use the simpler version","width":1088},{"text":"yeah, let's use signal() ","width":1024},{"text":"we'll talk about sigaction() later on in the course","width":256},{"text":"ok, this is what I wanted to show you. so our typedef here. is that large enough for people? can I make it larger?","width":640},{"text":"can you read that at the back?","width":256}]