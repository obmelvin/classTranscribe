[{"text":"right so that's our program in a nutshell","width":246},{"text":"so, perhaps we can decide what its actually going to do as a whole","width":583},{"text":"time to interview you neighbor","width":69},{"text":"what do they think? see if they can describe it tersely in 10 seconds or less","width":290},{"text":"what does this whole program do? what does it create. what are the contents of that log file?","width":351},{"text":"[students discussing]","width":3593},{"text":"okay! so we know that all standard output is going to go to log.txt","width":293},{"text":"we print out \"captain's log\" to that file","width":184},{"text":"and then we run bin/ls","width":207},{"text":"let's see what happens","width":86},{"text":"I ran it, I didn't see anything on the output here, so presumably, there's something waiting for me inside log.txt","width":362},{"text":"let's have a look. oh yes! look at that! there is a whole long listing of .h files inside my log file","width":510},{"text":"how did they get there?","width":83},{"text":"well yes, when we call the exec we did a mind wipe and it's going to start executing the code of /bin/ls","width":379},{"text":"but standard out has already been redirected to go to a file","width":385},{"text":"so we change the context in which /bin/ls runs","width":395},{"text":"and we print. and because we changed the directory of this process to usr/include, when we said \"turn me the current contents of the current directory\", we got the contents of /usr/include","width":691},{"text":"so that's our first significant system program","width":220},{"text":"uses all sorts of little commands","width":118},{"text":"I encourage you to play with it","width":210},{"text":"now, I want to show you a little challenge this is one of the. this is the only algorithm I know that was actually published on 4chan","width":1308},{"text":"cesspool of the internet","width":160},{"text":"okay, so, my question is, what's it do and how's it work?","width":755},{"text":"so this is you versus 4chan. what does this program do?","width":452},{"text":"notice its got a fork() in it","width":66},{"text":"[silence]","width":8244},{"text":"okay, I think it's time for a demo. see if your expectations are matched, right. so let me give you some values","width":758},{"text":"yeah lets do that. okay, here we go.","width":798},{"text":"yes, what we have here, ladies and gentlemen, is a sorting algorithm, system programming style","width":431},{"text":"it's clearly O(n), right? all we saw is a single loop","width":333},{"text":"yes this can sort integers. here I have another example","width":881},{"text":"look at that! isn't it brilliant?","width":361},{"text":"badum badum badum badum","width":217},{"text":"it's still calculating...ok. alright.","width":145},{"text":"so how does my order n algorithm work?","width":450},{"text":"alright so it goes by the name \"sleep sort\"","width":878},{"text":"and like I said, this was invented in 4chan, it's not actually published anywhere else","width":320},{"text":"but it's a nice cute example of using fork() and atoi that we've talked about these things and sleep()","width":385},{"text":"so how does this thing work? well it makes a whole lot of processes","width":270},{"text":"in fact, remember that C tells us the number of arguments to our program","width":389},{"text":"so this is going to pause every single integer","width":216},{"text":"when it does, it makes a whole lot of processes that because we're counting down C, it makes enough processes one for each integer that we provide","width":590},{"text":"and each process gets a different value of C","width":211},{"text":"because it exits the while loop at different times","width":223},{"text":"so, each process ends up calling sleep() for the right amount and then prints out the number","width":368},{"text":"so, if you entered 1 it sleeps 1 second if you enter 100 it sleeps for 100 seconds","width":373}]